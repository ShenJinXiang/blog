<!doctype html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<meta content="yes" name="apple-mobile-web-app-capable">
	<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
	<meta content="telephone=no" name="format-detection">
	<meta name="keywords" content="LiksStar ShenJinXiang 申锦祥 Node.js JavaScript 博客">
	<meta name="description" content="LiksStar ShenJinXiang 申锦祥 NODE nodejs Node.js JavaScript 博客">
	<link rel='icon' href="../../../images/title.ico" type="image/x-ico" />
	<link rel="stylesheet" href="../../../plugin/prism/prism.css">
	<link rel="stylesheet" href="../../../css/style.css">
	<title>LikeStar</title>
	<style>
ul {padding-left: 20px;}
	</style>
</head>
<body>
<div id="temp_content" style="display: none;">
	<div class="post-content">
<!-- 正文开始 -->
<p>Node.js中提供了文件系统(fs)模块，用来执行文件操作，使用时调用：require('fs') 引入</p>
<h3>同步和异步</h3>
<p>fs模块一般都会提供同步异步两种方法，异步的方法函数最后一个参数为回调函数，回调函数的第一个参数包含了错误信息(error)，尽量使用异步方法，因为没有阻塞，效率较高，下面是一个readFile的同步和异步的例子</p>
<p><i>创建data.txt文件，内容为:</i></p>
<pre class='line-numbers result-code'>
<code>
这里是data.txt文件的第一行
用于readFile方法异步和同步获取例子

这里是第四行，一共只有4行数据，其中第三行是空的
</code>
</pre>
<p><i>同步读取文件readSync.js</i></p>
<pre class='line-numbers language-javascript'>
<code>
// readSync.js
let fs = require('fs');

let data = fs.readFileSync('./data.txt', 'utf-8');
console.log(data);

console.log('读取数据完毕！');
</code>
</pre>
<!-- 正文结束 -->
	</div>
</div>
<script src="../../../plugin/jquery/jquery.js"></script>
<script src="../../../plugin/prism/prism.js"></script>
<script src="../../../js/main.js"></script>
<script><!--{{{-->
$(function(){
	LS.init({
		'currentMenu' : 1,
		'sidebar' : ['date', 'category', 'tags', 'post'],
		'content' : {
			'type' : 'post',
			'id' : 22
		}
	});
});
</script><!--}}}-->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript"><!--{{{-->
var duoshuoQuery = {short_name:"shenjinxiang"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script><!--}}}-->
<!-- 多说公共JS代码 end -->
</body>
</html>



